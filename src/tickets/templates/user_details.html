{% extends 'base.html' %}

{% block title %}
    User Details
{% endblock %}

{% block content %}
<div class="text-center details ">
    {% if user %}
    <div class="container text-center">
      <table class="table text-center">
        <h5><b>User Details:</b</h5>
        <tbody>
          <tr>
            <td><b>NAME</b></td>
            <td>{{ user.name }}</td>
        
            <td><b>LASTNAME:</b></td>
            <td>{{ user.lastname }}</td>
          </tr>
          <tr>
            <td><b>BIRTHDATE:</b></td>
            <td>{{ user.birthdate }}</td>
          
            <td><b>IS ADMIN?:</b></td>
            <td>{{ user.is_admin }}</td>
          </tr>
          <tr>
            <td><b>EMAIL:</b></td>
            <td>{{ user.email }}</td>
            
            <td><b>USERNAME:</b></td>
            <td>{{ user.username }}</td>
          </tr>
        </tbody>
      </table>
    </div>
    {% else %}
    <div class="container text-center">
      <table class="table text-center">
        <h5>USER DETAILS:</h5>
        <tbody>
          <tr>
            <td><b>NAME</b></td>
            <td>No Data Available</td>
        
            <td><b>LASTNAME:</b></td>
            <td>No Data Available</td>
          </tr>
          <tr>
            <td><b>BIRTHDATE:</b></td>
            <td>No Data Available</td>
          
            <td><b>IS ADMIN?:</b></td>
            <td>No Data Available</td>
          </tr>
          <tr>
            <td><b>EMAIL:</b></td>
            <td>No Data Available</td>
            
            <td><b>USERNAME:</b></td>
            <td>No Data Available</td>
          </tr>
        </tbody>
      </table>
    </div>
    {% endif %}
    
    <br>

    <h5>Tickets of User:</h5>
    
    <table class="table text-center">
      <thead>
        <th>NAME</th>
        <th>DESCRIPTION</th>
        <th>FROM:</th>
        <th>TO:</th>
        <th>STATUS:</th>
        <th>DURATIONS IN DAYS:</th>
        <th>ACTIONS</th>
      </thead>
      <tbody>
        {% if tickets %}
          {% for ticket in tickets %}
          <tr>
            <td>{{ ticket.name }}</td>
            <td class="text-start">{{ ticket.description }}</td>
            <td>{{ ticket.initialdate }}</td>
            <td>{{ ticket.enddate }}</td>
            <td>{{ ticket.status }}</td>
            <td>{{ ticket.duration_in_days }}</td>
            <td>
                <a class="btn btn-outline" href="{{ url_for('show_ticket_details', ticket_id=ticket.id) }}">MORE INFO</a>
            </td>
          </tr>
          {% endfor %}
        {% else %}
        <tr>
          <td colspan="7" class="text-center no-data-available">No Data Available</td>
        </tr>
        {% endif %}
      </tbody>
    </table>
  </div>
{% endblock %}